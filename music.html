<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" integrity="sha512-PgQMlq+nqFLV4ylk1gwUOgm6CtIIXkKwaIHp/PAIWHzig/lKZSEGKEysh0TCVbHJXCLN7WetD8TFecIky75ZfQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />    
    <link rel="stylesheet" href="css/style.css">

</head>
<body>
    
<div class="main_div">
    <div class="music_container">
        <h2 id="title">Tera Main Intizaar</h2>
        <h3 id="artist">Armaan Malik</h3>
        <div class="img_container">
            <img src="images/song_1.jpg" alt=""> 
        </div>
        <audio src="music/song_1.mp3" ></audio>

        <div class="music_controls">
            <i class="fas fa-backward"           id="prev" title="Previous"></i>
            <i class="fas fa-play main_button"   id="play" title="Play"></i>
            <i class="fas fa-forward"            id="next" title="Next"></i>
        </div>
    </div>
</div>
<script>
    const music = document.querySelector("audio");
    const img = document.querySelector('img');
    const play = document.getElementById("play");
    const artist = document.getElementById("artist");
    const title = document.getElementById("title");
    const prev = document.getElementById("prev");
    const next = document.getElementById("next");

    const songs = [
    {
        name:"song_1",
        title: "Tera Main Intizaar",
        artist: "Armaan Malik",
    },
    {
        name:"song_2",
        title: "Bol Do Na Zara",
        artist: "Armaan Malik",
    },
    {
        name:"song_3",
        title: "Pyaar Ek Tarfa",
        artist: "Amaal Malik",
    },
    {
        name:"song_4",
        title: "Mujhko Barsaat",
        artist: "Armaan Malik",
    },
    {
        name:"song_5",
        title: "Tum Hi Ho",
        artist: "Arjit Singh",
    },
];

    let isPlaying = false;

// for play funtionality     
    const playMusic= ()=> {
        isPlaying = true;
        music.play();
        play.classList.replace('fa-play', "fa-pause");
        img.classList.add("anime");
    };

// for pause funtionality     
    const pauseMusic= ()=> {
        isPlaying = false;
        music.pause();
        play.classList.replace('fa-pause', "fa-play");
        img.classList.remove("anime");
    };

    play.addEventListener('click', () => {
    
        isPlaying ? pauseMusic() :playMusic();
    });

    //changing the music data

    const loadSongs =(songs) => {
        title.textContent = songs.title;
        artist.textContent = songs.artist;
        music.src ="music/" + songs.name + ".mp3";
        img.src ="images/" + songs.name + ".jpg";

    };

    songIndex =0;
    const nextSong = () => {
        songIndex = (songIndex +1) % songs.length;
        loadSongs(songs[songIndex]);
        playMusic();
    };

    const prevSong = () => {
        songIndex = (songIndex - 1 + songs.length ) % songs.length;
        loadSongs(songs[songIndex]);
        playMusic();
    };

    next.addEventListener('click', nextSong);
    prev.addEventListener('click', prevSong);

</script>
</body>
</html>